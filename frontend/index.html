<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FinSentinel Terminal</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html, body, #root { height: 100%; }
    body { background: #070b12; color: #dce8ff; font-family: 'Inter', Arial, sans-serif; font-size: 14px; line-height: 1.55; }

    /* ── App shell ── */
    .app-shell { display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
    .tab-content { flex: 1; overflow: hidden; }

    /* ── Tab bar ── */
    .tab-bar { display: flex; align-items: center; justify-content: space-between; background: #0a0f1c; border-bottom: 1px solid #182035; padding: 0 18px; height: 44px; flex-shrink: 0; }
    .tab-bar-left { display: flex; align-items: center; gap: 2px; }
    .tab-bar-right { display: flex; align-items: center; gap: 12px; }
    .brand-name-sm { font-size: 15px; font-weight: 700; color: #60a5fa; letter-spacing: .5px; margin-right: 18px; }
    .tab-btn { background: none; border: none; color: #5a7298; font-family: inherit; font-size: 13px; font-weight: 600; padding: 10px 16px; cursor: pointer; border-bottom: 2px solid transparent; transition: color .15s, border-color .15s; }
    .tab-btn:hover { color: #93c5fd; }
    .tab-btn.active { color: #60a5fa; border-bottom-color: #60a5fa; }

    /* ── 3-col layout for Risk Score tab ── */
    .layout-3col { display: grid; grid-template-columns: 220px 1fr 320px; gap: 0; height: 100%; overflow: hidden; }
    .col-left   { background: #0a0f1c; border-right: 1px solid #182035; padding: 20px 16px; overflow-y: auto; display: flex; flex-direction: column; gap: 14px; }
    .col-centre { background: #070b12; border-right: 1px solid #182035; padding: 20px 20px; overflow-y: auto; }
    .col-right  { background: #0a0f1c; padding: 20px 18px; overflow-y: auto; }

    .brand { padding-bottom: 14px; border-bottom: 1px solid #182035; }
    .brand-name { display: block; font-size: 18px; font-weight: 700; color: #60a5fa; letter-spacing: .5px; }
    .brand-tag  { display: block; font-size: 11px; color: #5a7298; text-transform: uppercase; letter-spacing: 1px; margin-top: 2px; }

    .status-bar { display: flex; gap: 10px; flex-wrap: wrap; }
    .status-dot { display: inline-flex; align-items: center; gap: 5px; font-size: 12px; font-weight: 500; }
    .status-dot .dot { width: 7px; height: 7px; border-radius: 50%; }
    .status-dot.ok  .dot { background: #22c55e; box-shadow: 0 0 6px #22c55e88; }
    .status-dot.err .dot { background: #ef4444; box-shadow: 0 0 6px #ef444488; }
    .status-dot.ok  { color: #86efac; }
    .status-dot.err { color: #fca5a5; }

    .section-heading { font-size: 10px; font-weight: 600; color: #4a6080; text-transform: uppercase; letter-spacing: 1.2px; margin-bottom: 8px; }

    .case-select { width: 100%; background: #0f182c; border: 1px solid #253351; border-radius: 8px; color: #dce8ff; padding: 8px 10px; font-size: 13px; font-family: inherit; cursor: pointer; outline: none; }
    .case-select:focus { border-color: #60a5fa; }
    .case-desc { font-size: 12px; color: #5a7298; margin-top: 6px; line-height: 1.45; }
    .hint { font-size: 11px; color: #3d5070; margin-bottom: 4px; }

    .cta-group { display: flex; flex-direction: column; gap: 9px; }
    .btn-primary, .btn-secondary { border: none; border-radius: 8px; padding: 11px 14px; font-size: 13px; font-weight: 600; font-family: inherit; cursor: pointer; transition: opacity .15s, transform .1s; text-align: center; }
    .btn-primary   { background: #2563eb; color: #fff; }
    .btn-secondary { background: #162033; color: #93c5fd; border: 1px solid #253351; }
    .btn-primary:hover   { opacity: .88; }
    .btn-secondary:hover { background: #1e2d45; }
    .btn-primary:active, .btn-secondary:active { transform: scale(.97); }
    .btn-primary:disabled, .btn-secondary:disabled { opacity: .4; cursor: not-allowed; }
    .btn-sm { padding: 7px 12px; font-size: 12px; border-radius: 6px; }

    .feat-input { width: 100%; background: #0f182c; border: 1px solid #253351; border-radius: 6px; color: #93c5fd; font-family: 'Menlo', monospace; font-size: 11px; padding: 7px 8px; resize: vertical; margin-top: 6px; }

    .kpi-strip { display: flex; flex-wrap: wrap; gap: 10px; }
    .kpi-chip  { background: #0c1524; border: 1px solid #1e2e47; border-radius: 8px; padding: 10px 14px; min-width: 90px; display: flex; flex-direction: column; gap: 3px; }
    .kpi-label { font-size: 10px; color: #4a6080; font-weight: 600; text-transform: uppercase; letter-spacing: .8px; }
    .kpi-value { font-size: 18px; font-weight: 700; color: #dce8ff; }
    .kpi-value.green { color: #4ade80; }
    .kpi-value.red   { color: #f87171; }

    .market-table { width: 100%; border-collapse: collapse; font-size: 13px; }
    .market-table th { text-align: left; font-size: 10px; font-weight: 600; color: #4a6080; text-transform: uppercase; letter-spacing: .8px; padding: 6px 10px; border-bottom: 1px solid #182035; }
    .market-table td { padding: 9px 10px; border-bottom: 1px solid #0f1928; }
    .market-table tr:last-child td { border-bottom: none; }
    .market-table tr:hover td { background: #0c1524; }
    .market-table .idx  { color: #4a6080; font-weight: 600; width: 28px; }
    .market-table .name { color: #93c5fd; font-weight: 600; }
    .market-table .desc { color: #7a9abf; }
    .market-table .vecs { color: #60a5fa; font-weight: 700; width: 44px; text-align: right; }

    .decision-panel { border-radius: 10px; padding: 18px; border: 1px solid #182035; background: #0c1524; margin-top: 4px; }
    .decision-panel.loading, .decision-panel.empty { color: #4a6080; font-style: italic; padding: 28px; text-align: center; }
    .decision-panel.anomaly { border-color: #7f1d1d; background: #12090c; }
    .decision-panel.normal  { border-color: #14532d; background: #09120d; }

    .decision-label { font-size: 20px; font-weight: 700; margin-bottom: 16px; letter-spacing: .5px; }
    .decision-panel.anomaly .decision-label { color: #f87171; }
    .decision-panel.normal  .decision-label { color: #4ade80; }

    .decision-row { display: flex; justify-content: space-between; align-items: flex-start; padding: 8px 0; border-bottom: 1px solid #182035; font-size: 13px; gap: 10px; }
    .decision-row.col { flex-direction: column; gap: 5px; }
    .decision-row:last-of-type { border-bottom: none; }
    .dr-key   { color: #4a6080; font-weight: 600; font-size: 11px; text-transform: uppercase; letter-spacing: .8px; white-space: nowrap; padding-top: 1px; }
    .dr-val   { color: #dce8ff; font-weight: 600; text-align: right; }
    .dr-val.green { color: #4ade80; }
    .dr-val.red   { color: #f87171; }
    .dr-val.rec   { color: #93c5fd; font-size: 12px; }
    .dr-reason { font-size: 12px; color: #7a9abf; line-height: 1.5; }

    .advanced { margin-top: 14px; }
    .advanced summary { font-size: 11px; color: #4a6080; cursor: pointer; user-select: none; padding: 4px 0; letter-spacing: .5px; }
    .advanced summary:hover { color: #93c5fd; }
    .adv-pre { margin-top: 8px; font-family: 'Menlo', monospace; font-size: 11px; color: #5a7298; background: #070b12; border: 1px solid #182035; border-radius: 6px; padding: 10px; white-space: pre-wrap; overflow-x: auto; }

    .err-banner { background: #3b0a0a; border: 1px solid #7f1d1d; color: #fca5a5; border-radius: 7px; padding: 10px 13px; font-size: 12px; margin-bottom: 12px; }

    /* ═══════════════════════════════════════════════════════════════════════════
       PORTFOLIO TAB
       ═══════════════════════════════════════════════════════════════════════ */

    .pf-layout { display: grid; grid-template-columns: 380px 1fr; gap: 0; height: 100%; overflow: hidden; }
    .pf-col-left  { background: #0a0f1c; border-right: 1px solid #182035; padding: 20px 18px; overflow-y: auto; display: flex; flex-direction: column; gap: 16px; }
    .pf-col-right { background: #070b12; padding: 24px 28px; overflow-y: auto; }

    /* ── Input modes bar ── */
    .pf-mode-bar { display: flex; gap: 6px; margin-bottom: 12px; }
    .pf-mode-btn { background: #0f182c; border: 1px solid #253351; color: #5a7298; border-radius: 6px; padding: 6px 14px; font-size: 12px; font-weight: 600; font-family: inherit; cursor: pointer; transition: all .15s; }
    .pf-mode-btn:hover { border-color: #3b5998; color: #93c5fd; }
    .pf-mode-btn.active { background: #162a4a; border-color: #60a5fa; color: #60a5fa; }

    /* ── Presets ── */
    .pf-presets { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 10px; }
    .pf-preset-card { background: #0c1524; border: 1px solid #1e2e47; border-radius: 8px; padding: 12px 14px; text-align: left; cursor: pointer; transition: all .15s; display: flex; flex-direction: column; gap: 2px; }
    .pf-preset-card:hover { border-color: #60a5fa; background: #0f1d35; }
    .pf-preset-name { font-size: 13px; font-weight: 600; color: #93c5fd; }
    .pf-preset-detail { font-size: 11px; color: #4a6080; }

    /* ── CSV ── */
    .pf-csv-section { display: flex; flex-direction: column; gap: 8px; margin-bottom: 10px; }
    .pf-csv-input { width: 100%; background: #0f182c; border: 1px solid #253351; border-radius: 6px; color: #93c5fd; font-family: 'Menlo', monospace; font-size: 11px; padding: 8px 10px; resize: vertical; }
    .pf-csv-input::placeholder { color: #2a3d58; }

    /* ── Manual asset rows ── */
    .pf-assets-list { display: flex; flex-direction: column; gap: 0; margin-bottom: 10px; }
    .pf-row { display: grid; grid-template-columns: 1fr 80px 32px; gap: 6px; align-items: center; padding: 5px 0; border-bottom: 1px solid #0f1928; }
    .pf-header-row { border-bottom: 1px solid #182035; padding-bottom: 6px; margin-bottom: 2px; }
    .pf-header-row span { font-size: 10px; font-weight: 600; color: #4a6080; text-transform: uppercase; letter-spacing: .8px; }
    .pf-sym-input, .pf-wt-input { background: #0f182c; border: 1px solid #253351; border-radius: 5px; color: #dce8ff; padding: 6px 8px; font-size: 12px; font-family: inherit; outline: none; width: 100%; }
    .pf-sym-input:focus, .pf-wt-input:focus { border-color: #60a5fa; }
    .pf-sym-input { text-transform: uppercase; font-weight: 600; color: #93c5fd; }
    .pf-wt-input { text-align: right; font-variant-numeric: tabular-nums; }
    .pf-rm-btn { background: none; border: 1px solid transparent; color: #5a7298; font-size: 16px; cursor: pointer; border-radius: 4px; padding: 2px 6px; transition: all .15s; line-height: 1; }
    .pf-rm-btn:hover { color: #f87171; border-color: #7f1d1d; background: #1a0a0a; }

    .pf-add-row { display: flex; align-items: center; justify-content: space-between; margin-top: 8px; }
    .pf-weight-sum { font-size: 12px; font-weight: 700; font-variant-numeric: tabular-nums; }
    .pf-weight-sum.ok { color: #4ade80; }
    .pf-weight-sum.warn { color: #f87171; }

    /* ── Constraints panel ── */
    .pf-constraints-panel { }
    .pf-cstr-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .pf-cstr-item { display: flex; flex-direction: column; gap: 3px; }
    .pf-cstr-label { font-size: 10px; font-weight: 600; color: #4a6080; text-transform: uppercase; letter-spacing: .6px; }
    .pf-cstr-input { background: #0f182c; border: 1px solid #253351; border-radius: 5px; color: #dce8ff; padding: 7px 9px; font-size: 12px; font-family: inherit; outline: none; font-variant-numeric: tabular-nums; }
    .pf-cstr-input:focus { border-color: #60a5fa; }
    .pf-cstr-input::placeholder { color: #2a3d58; }

    /* ── Run button ── */
    .pf-run-btn { width: 100%; padding: 13px; font-size: 14px; border-radius: 10px; letter-spacing: .3px; }
    .pf-validation-hint { font-size: 11px; color: #f87171; margin-top: 4px; text-align: center; }

    /* ── Result panel ── */
    .pf-results { }
    .pf-loading { display: flex; flex-direction: column; align-items: center; gap: 14px; padding: 48px 20px; color: #5a7298; font-size: 14px; }
    .pf-spinner { width: 36px; height: 36px; border: 3px solid #182035; border-top-color: #60a5fa; border-radius: 50%; animation: pf-spin .8s linear infinite; }
    @keyframes pf-spin { to { transform: rotate(360deg); } }

    .pf-empty-state { text-align: center; padding: 48px 24px; }
    .pf-empty-icon { font-size: 40px; margin-bottom: 12px; opacity: .6; }
    .pf-empty-title { font-size: 16px; font-weight: 600; color: #5a7298; margin-bottom: 8px; }
    .pf-empty-sub { font-size: 12px; color: #3d5070; line-height: 1.6; max-width: 380px; margin: 0 auto; }

    /* ── KPI Grid ── */
    .pf-kpi-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
    .pf-kpi-card { background: #0c1524; border: 1px solid #1e2e47; border-radius: 10px; padding: 14px 16px; display: flex; flex-direction: column; gap: 4px; }
    .pf-kpi-card.red-glow  { border-color: #3b1515; }
    .pf-kpi-card.green-glow { border-color: #15332a; }
    .pf-kpi-label { font-size: 10px; font-weight: 600; color: #4a6080; text-transform: uppercase; letter-spacing: .8px; }
    .pf-kpi-val { font-size: 22px; font-weight: 700; color: #dce8ff; font-variant-numeric: tabular-nums; }
    .pf-kpi-val.red   { color: #f87171; }
    .pf-kpi-val.green { color: #4ade80; }
    .pf-kpi-val.amber { color: #fbbf24; }

    /* ── Recommendation card ── */
    .pf-rec-card { border-radius: 10px; padding: 16px 18px; margin-top: 4px; }
    .pf-rec-card.hold { background: #09120d; border: 1px solid #14532d; }
    .pf-rec-card.rebalance { background: #12100a; border: 1px solid #78350f; }
    .pf-rec-action { font-size: 18px; font-weight: 700; margin-bottom: 8px; letter-spacing: .5px; }
    .pf-rec-card.hold .pf-rec-action { color: #4ade80; }
    .pf-rec-card.rebalance .pf-rec-action { color: #fbbf24; }
    .pf-rec-summary { font-size: 13px; color: #7a9abf; line-height: 1.6; }

    /* ── Constraints check badges ── */
    .pf-cc-row { display: flex; flex-wrap: wrap; gap: 8px; }
    .pf-cc-badge { font-size: 11px; font-weight: 600; padding: 4px 10px; border-radius: 5px; letter-spacing: .3px; }
    .pf-cc-badge.pass { background: #052e16; color: #4ade80; border: 1px solid #14532d; }
    .pf-cc-badge.fail { background: #2a0a0a; color: #f87171; border: 1px solid #7f1d1d; }

    /* ── Proposed weights table ── */
    .pf-weights-table { margin-top: 4px; }
    .pf-alloc-bar-bg { width: 100%; height: 8px; background: #0f182c; border-radius: 4px; overflow: hidden; }
    .pf-alloc-bar { height: 100%; background: linear-gradient(90deg, #2563eb, #60a5fa); border-radius: 4px; transition: width .3s; }

    /* ── Paths summary strip ── */
    .pf-paths-strip { display: flex; flex-wrap: wrap; gap: 10px; }
    .pf-sim-note { font-size: 11px; color: #3d5070; margin-top: 8px; }

    /* ── Scrollbar styling ── */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #1e2e47; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #2a4060; }

    /* ═══════════════════════════════════════════════════════════════════════════
       STOCK PICKER TAB
       ═══════════════════════════════════════════════════════════════════════ */

    .sp-layout { padding: 20px 28px; height: 100%; overflow-y: auto; }
    .sp-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; }
    .sp-meta { font-size: 11px; color: #3d5070; }
    .sp-table { font-size: 12px; }
    .sp-table th { font-size: 9px; white-space: nowrap; }
    .sp-table td { padding: 7px 8px; }
    .sp-sector-badge { font-size: 10px; font-weight: 600; background: #162033; border: 1px solid #253351; color: #7a9abf; border-radius: 4px; padding: 2px 7px; }
    .green-text { color: #4ade80; }
    .red-text { color: #f87171; }

    .sp-tags { display: flex; flex-wrap: wrap; gap: 4px; }
    .sp-tag { font-size: 10px; font-weight: 500; padding: 2px 7px; border-radius: 4px; background: #162033; color: #7a9abf; border: 1px solid #253351; white-space: nowrap; }
    .sp-tag.positive { background: #052e16; color: #4ade80; border-color: #14532d; }
    .sp-tag.negative { background: #2a0a0a; color: #f87171; border-color: #7f1d1d; }

    .sp-rejected-row td { opacity: 0.6; }
    .sp-reject-reason { font-size: 11px; color: #5a7298; font-style: italic; }

    /* ═══════════════════════════════════════════════════════════════════════════
       FRAUD DETECTION TAB
       ═══════════════════════════════════════════════════════════════════════ */

    .fd-layout { display: grid; grid-template-columns: 340px 1fr; gap: 0; height: 100%; overflow: hidden; }
    .fd-col-left { background: #0a0f1c; border-right: 1px solid #182035; padding: 20px 18px; overflow-y: auto; display: flex; flex-direction: column; gap: 12px; }
    .fd-col-right { background: #070b12; padding: 24px 28px; overflow-y: auto; }
    .fd-csv-input { min-height: 180px; font-size: 11px; }
    .fd-btn-row { display: flex; flex-direction: column; gap: 8px; }
    .fd-scan-btn { width: 100%; padding: 12px; font-size: 13px; border-radius: 10px; }

    /* Alert card */
    .fd-alert-card { border-radius: 10px; padding: 16px 18px; margin-top: 4px; margin-bottom: 8px; }
    .fd-alert-card.fd-block   { background: #1a0505; border: 1px solid #7f1d1d; }
    .fd-alert-card.fd-review  { background: #1a1505; border: 1px solid #78350f; }
    .fd-alert-card.fd-monitor { background: #09120d; border: 1px solid #14532d; }
    .fd-alert-action { font-size: 18px; font-weight: 700; margin-bottom: 6px; }
    .fd-alert-card.fd-block .fd-alert-action   { color: #f87171; }
    .fd-alert-card.fd-review .fd-alert-action  { color: #fbbf24; }
    .fd-alert-card.fd-monitor .fd-alert-action { color: #4ade80; }
    .fd-alert-score { font-size: 13px; font-weight: 600; color: #dce8ff; margin-bottom: 6px; }
    .fd-alert-summary { font-size: 13px; color: #7a9abf; line-height: 1.5; margin-bottom: 4px; }
    .fd-alert-meta { font-size: 11px; color: #4a6080; }

    /* Transaction table */
    .fd-table { font-size: 12px; }
    .fd-table th { font-size: 9px; }
    .fd-row-fraud td { background: #12090c !important; }
    .fd-row-suspicious td { background: #120f05 !important; }

    .fd-score-badge { font-size: 11px; font-weight: 700; padding: 2px 7px; border-radius: 4px; }
    .fd-score-badge.high { background: #2a0a0a; color: #f87171; }
    .fd-score-badge.mid  { background: #1a1505; color: #fbbf24; }
    .fd-score-badge.low  { background: #052e16; color: #4ade80; }

    .fd-label-badge { font-size: 10px; font-weight: 600; padding: 2px 8px; border-radius: 4px; text-transform: uppercase; letter-spacing: .5px; }
    .fd-label-badge.fraud { background: #2a0a0a; color: #f87171; border: 1px solid #7f1d1d; }
    .fd-label-badge.sus   { background: #1a1505; color: #fbbf24; border: 1px solid #78350f; }
    .fd-label-badge.legit { background: #052e16; color: #4ade80; border: 1px solid #14532d; }

    /* ═══════════════════════════════════════════════════════════════════════════
       APP FOOTER
       ═══════════════════════════════════════════════════════════════════════ */

    .app-footer { display: flex; align-items: center; justify-content: space-between; padding: 0 18px; height: 28px; background: #0a0f1c; border-top: 1px solid #182035; font-size: 10px; color: #3d5070; flex-shrink: 0; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script type="text/babel" src="src/App.jsx" data-type="module"></script>
</body>
</html>
